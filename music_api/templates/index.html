{% extends 'base.html' %}

{% load compress %}

{% load static %}


{% block content %}
<div class="container mt-md-3">
    <nav aria-label="breadcrumb" class="mb-3 mt-3 ruby-breadcrumb search-breadcrumb-center pre-animation">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item">
                <a href="{% url 'home' %}">Главная</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Поиск</li>
        </ol>
    </nav>

    <div class="d-lg-none mb-3 playlist-mobile-filter-wrap search-mobile-filter-wrap">
        <button
            class="btn btn-outline-danger btn-sm playlist-filter-mobile-trigger pre-animation"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#searchFilterOffcanvas"
            aria-controls="searchFilterOffcanvas"
        >
            <i class="bi bi-sliders me-1"></i> Фильтры поиска
        </button>
    </div>

    <div class="row g-3 g-lg-4 align-items-start playlist-layout">
        <aside class="col-12 col-lg-4 col-xl-3 d-none d-lg-block">
            <section class="playlist-filter-card mt-2 pre-animation" id="search-filter-panel">
                <h3 class="playlist-filter-title mb-3">Фильтр поиска</h3>

                <div class="mb-3">
                    <label class="form-label mb-1" for="search-listeners-sort">Сортировка прослушиваний</label>
                    <select class="form-select form-select-sm" id="search-listeners-sort" data-search-listeners-sort>
                        <option value="default">Без сортировки</option>
                        <option value="desc">Больше прослушиваний</option>
                        <option value="asc">Меньше прослушиваний</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label mb-1" for="search-group-by">Группировка</label>
                    <select class="form-select form-select-sm" id="search-group-by" data-search-group-by>
                        <option value="none">Без группировки</option>
                        <option value="artist">По артисту</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label mb-1" for="search-artist-filter">Артист</label>
                    <select class="form-select form-select-sm" id="search-artist-filter" data-search-artist-filter>
                        <option value="all">Все артисты</option>
                    </select>
                </div>

                <div class="d-flex gap-2 mb-2">
                    <button type="button" class="btn btn-sm btn-outline-danger" data-search-reset-filters>
                        Очистить фильтры
                    </button>
                </div>
            </section>
        </aside>

        <section class="col-12 col-lg-8 col-xl-9">
            <div id="searchResults" class="search-container"></div>
        </section>
    </div>
</div>

<div class="offcanvas offcanvas-bottom playlist-filter-offcanvas d-lg-none" tabindex="-1" id="searchFilterOffcanvas"
     aria-labelledby="searchFilterOffcanvasLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="searchFilterOffcanvasLabel">Фильтр поиска</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <div class="mb-3">
            <label class="form-label mb-1" for="search-listeners-sort-mobile">Сортировка прослушиваний</label>
            <select class="form-select form-select-sm" id="search-listeners-sort-mobile" data-search-listeners-sort>
                <option value="default">Без сортировки</option>
                <option value="desc">Больше прослушиваний</option>
                <option value="asc">Меньше прослушиваний</option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label mb-1" for="search-group-by-mobile">Группировка</label>
            <select class="form-select form-select-sm" id="search-group-by-mobile" data-search-group-by>
                <option value="none">Без группировки</option>
                <option value="artist">По артисту</option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label mb-1" for="search-artist-filter-mobile">Артист</label>
            <select class="form-select form-select-sm" id="search-artist-filter-mobile" data-search-artist-filter>
                <option value="all">Все артисты</option>
            </select>
        </div>

        <div class="d-flex gap-2">
            <button type="button" class="btn btn-sm btn-outline-danger" data-search-reset-filters>
                Очистить фильтры
            </button>
        </div>
    </div>
</div>
{% endblock %}
